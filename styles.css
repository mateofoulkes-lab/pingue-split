/* Soft gradient + glass look */
*{box-sizing:border-box}
:root{
  --bg1:#eff4ff; --bg2:#ffffff; --card:#ffffffd9; --card-solid:#ffffff; --card-soft:#f5f7fbcc;
  --stroke:#d9e2f2; --ink:#1f2937; --muted:#64748b; --brand:#2563eb; --brand-2:#4f46e5; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
  --radius:20px; --pad:22px; --shadow:0 20px 45px rgba(15,23,42,.12), inset 0 1px 0 rgba(255,255,255,.65);
  --glass:rgba(255,255,255,.82);
}
html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;color:var(--ink);
  background: radial-gradient(1200px 780px at 18% -8%, rgba(180,198,239,.45) 0%, transparent 55%), linear-gradient(180deg, var(--bg2), var(--bg1));
  min-height:100vh;}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:linear-gradient(180deg,#ffffff,#f5f7fb 85%);
  position:sticky;top:0;border-bottom:1px solid rgba(148,163,184,.25);backdrop-filter: blur(8px);z-index:2}
h1{font-size:22px;margin:0;letter-spacing:.2px}
h2{margin:.2rem 0 .4rem}
h3{margin:.2rem 0 .2rem}
main{max-width:1020px;margin:0 auto;padding:28px 22px 180px}
.app-shell{display:flex;flex-direction:column;gap:28px;position:relative}
.card{background:var(--card);border:1px solid var(--stroke);border-radius:var(--radius);padding:var(--pad);box-shadow:var(--shadow);backdrop-filter: blur(18px)}
.row{display:flex;gap:12px;align-items:center}
.wrap{flex-wrap:wrap}
@media(max-width:880px){
  main{padding:22px 16px 160px}
}
.btn{background:linear-gradient(135deg,var(--brand),var(--brand-2));border:none;color:#f8fafc;padding:12px 16px;border-radius:14px;font-weight:700;cursor:pointer;
  transition:transform .05s ease, filter .2s ease; box-shadow:0 6px 16px rgba(79,70,229,.25)}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:#f8fafc;border:1px solid rgba(148,163,184,.45);color:var(--ink)}
.btn.success{background:linear-gradient(135deg,#22c55e,#10b981)}
.btn.warn{background:linear-gradient(135deg,#fbbf24,#f59e0b)}
.btn.danger{background:linear-gradient(135deg,#fb7185,#ef4444)}
.btn.small{padding:8px 12px;font-size:12px;border-radius:12px}
.btn.small.btn.ghost{border:1px solid rgba(148,163,184,.3)}
.muted{color:var(--muted)}.small{font-size:12px}.center{text-align:center}.mt{margin-top:18px}.gap{gap:12px}.space-between{justify-content:space-between}
.hidden{display:none !important}
body.modal-open{overflow:hidden}
input,select{width:100%;padding:12px 14px;border-radius:14px;border:1px solid rgba(148,163,184,.45);background:#f8fbff;color:var(--ink);outline:none;font-size:15px}
input:focus,select:focus{border-color:#3b82f6; box-shadow:0 0 0 3px #3b82f633}
.meta{font-size:12px;color:var(--muted);line-height:1.4}
.list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
.item{display:flex;flex-direction:column;gap:10px;background:var(--card-solid);
  border:1px solid rgba(148,163,184,.28);border-radius:20px;padding:16px 18px;box-shadow:0 18px 32px rgba(15,23,42,.12);transition:background .2s ease,border-color .2s ease}
.item.payer-a{background:linear-gradient(135deg,rgba(240,249,255,.95),rgba(224,242,254,.85));border-color:rgba(14,165,233,.28)}
.item.payer-b{background:linear-gradient(135deg,rgba(255,240,246,.95),rgba(255,228,235,.82));border-color:rgba(236,72,153,.22)}
.item.settlement{border:1px solid rgba(34,197,94,.32); background:linear-gradient(135deg, rgba(240,253,244,.92), rgba(209,250,229,.82))}
.item__row{display:flex;justify-content:space-between;align-items:center;gap:14px}
.item__row--middle{font-size:12px;color:var(--muted)}
.item__row--middle span{display:flex;align-items:center;gap:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}
.item__row--bottom{font-size:12px;color:#64748b}
.item__row--bottom .shares{flex:1;min-width:0}
.item__title{display:flex;align-items:center;gap:8px;flex-wrap:wrap;font-size:15px}
.item__title strong{font-size:16px;font-weight:600}
.item__amount{font-variant-numeric:tabular-nums;font-weight:700;font-size:17px;color:var(--ink)}
.item .shares{font-size:12px;color:#475569}
.item .tag{display:inline-flex;align-items:center;gap:6px;background:rgba(59,130,246,.12);color:#1d4ed8;font-size:11px;padding:4px 10px;border-radius:999px;text-transform:uppercase;letter-spacing:.08em}
.badge{font-size:11px;padding:2px 8px;border-radius:999px;border:1px solid rgba(37,99,235,.4);color:#1d4ed8;background:rgba(219,234,254,.6)}
.summary{display:flex;flex-direction:column;gap:16px}
.summary .box{background:var(--card-solid);border:1px solid rgba(148,163,184,.32);border-radius:18px;padding:18px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px}
.summary__total{border:1px solid rgba(79,70,229,.22);background:linear-gradient(135deg,rgba(237,233,254,.92),rgba(224,231,255,.85))}
.summary__payer{background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(245,248,255,.9))}
.summary .box strong{font-size:20px;font-weight:700;line-height:1.3;word-break:break-word}
.summary__balance{border:1px solid rgba(14,165,233,.25);background:linear-gradient(135deg,rgba(236,254,255,.92),rgba(219,244,255,.85))}
.summary__balance strong{font-size:18px}
.kicker{font-size:12px;color:#2563eb;text-transform:uppercase;letter-spacing:.12em;margin-bottom:6px}
.divider{height:1px;background:linear-gradient(90deg,transparent,rgba(148,163,184,.45),transparent);margin:14px 0}

/* Top bar */
.topbar{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,rgba(255,255,255,.92),rgba(236,244,255,.9));
  border:1px solid rgba(148,163,184,.28);border-radius:var(--radius);padding:20px 26px;backdrop-filter:blur(22px);box-shadow:var(--shadow);position:relative}
.topbar-info{flex:1;display:flex;flex-direction:column;gap:6px;margin:0 26px}
.topbar-title{margin:0;font-size:24px;font-weight:700}
.profile-btn{width:56px;height:56px;border-radius:50%;border:2px solid rgba(148,163,184,.35);background:var(--glass);display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;overflow:hidden;box-shadow:0 10px 26px rgba(148,163,184,.3);transition:transform .2s ease}
.profile-btn:hover{transform:translateY(-1px)}
.profile-btn img{width:100%;height:100%;object-fit:cover}
.fab{width:60px;height:60px;border-radius:50%;border:none;background:linear-gradient(135deg,#2563eb,#4f46e5);color:#f8fafc;font-size:34px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 20px 36px rgba(79,70,229,.32);transition:transform .2s ease, filter .2s ease}
.fab:hover{filter:brightness(1.05);transform:translateY(-1px)}

/* Profile menu */
.profile-menu{position:absolute;top:120px;left:26px;background:var(--card);border-radius:22px;border:1px solid rgba(148,163,184,.35);padding:22px;display:flex;flex-direction:column;gap:16px;box-shadow:0 26px 58px rgba(148,163,184,.28);min-width:250px;backdrop-filter:blur(20px);z-index:6}
.profile-menu[hidden]{display:none !important}
.profile-menu__user{display:flex;gap:16px;align-items:center}
.profile-menu__user img{width:58px;height:58px;border-radius:50%;object-fit:cover;border:2px solid rgba(148,163,184,.35)}
.profile-menu__name{font-weight:600;font-size:16px;color:var(--ink)}
.profile-menu__action{background:rgba(59,130,246,.12);color:#1d4ed8;border:none;border-radius:12px;padding:10px 16px;font-weight:600;cursor:pointer}
.profile-menu__action:hover{filter:brightness(1.05)}

/* Filters */
.filters{align-items:center;gap:10px}
.filters-group{display:flex;align-items:center;gap:10px;flex-wrap:nowrap}
.filters-group .filter-chip{flex:0 0 auto}
.filters .filter-chip{display:flex;align-items:center;gap:10px;background:rgba(226,232,240,.6);border:1px solid rgba(148,163,184,.35);
  border-radius:999px;padding:8px 16px;font-size:13px;color:var(--muted)}
.filters .filter-chip input,
.filters .filter-chip select{background:transparent;border:none;padding:0;color:var(--ink);font-weight:600;font-size:14px;width:auto;min-width:120px}
.filters .filter-chip input[type="month"]{min-width:0}
.filters .filter-chip select{appearance:none;background-image:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%236b7280" viewBox="0 0 16 16"%3E%3Cpath d="M3.2 5.5a.75.75 0 0 1 1.06 0L8 9.23l3.74-3.73a.75.75 0 0 1 1.06 1.06l-4.27 4.27a.75.75 0 0 1-1.06 0L3.2 6.56a.75.75 0 0 1 0-1.06Z"/%3E%3C/svg%3E');background-repeat:no-repeat;background-position:right 0.2rem center;padding-right:18px;min-width:140px}
.filters .filter-chip input::-webkit-calendar-picker-indicator{filter:none;opacity:0.8}
.filters button{margin-left:auto}

@media(max-width:720px){
  .filters-group{flex-wrap:wrap}
}

/* Cards */
.card-heading{display:flex;flex-direction:column;gap:4px;margin-bottom:18px}
.list-card{padding:28px}
.summary-card{padding:28px}

/* Form */
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;margin-top:12px}
.form-grid .field{display:flex;flex-direction:column;gap:8px;font-size:13px;color:var(--muted)}
.split-fields{grid-column:span 2;display:flex;gap:18px;background:rgba(226,232,240,.45);padding:18px;border-radius:18px}
.split-fields .field-group{flex:1;display:flex;flex-direction:column;gap:8px;font-size:13px;color:var(--muted)}
.form-actions{grid-column:span 2;display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:12px}
.form-actions .actions-right{display:flex;gap:10px}
.close-btn{background:rgba(226,232,240,.9);border:none;color:var(--muted);font-size:32px;line-height:1;border-radius:50%;width:42px;height:42px;cursor:pointer}
.close-btn:hover{color:var(--ink)}

@media(max-width:720px){
  .form-grid{grid-template-columns:1fr}
  .split-fields{flex-direction:column}
  .form-actions{flex-direction:column;align-items:stretch}
  .form-actions .actions-right{width:100%;justify-content:space-between}
}

/* Modals */
.modal{position:fixed;inset:0;background:rgba(241,245,255,.82);backdrop-filter:blur(18px);display:flex;align-items:flex-start;justify-content:center;padding:70px 16px;overflow:auto;z-index:10}
.modal.hidden{display:none}
.modal__panel{background:linear-gradient(160deg,rgba(255,255,255,.95),rgba(236,244,255,.95));border:1px solid rgba(148,163,184,.35);border-radius:28px;box-shadow:0 48px 80px rgba(148,163,184,.32);width:min(640px,100%);padding:32px 30px 40px;display:flex;flex-direction:column;gap:10px}
.modal__header{display:flex;justify-content:space-between;gap:22px;align-items:flex-start}

/* Status bar */
.status-bar{position:fixed;left:50%;bottom:32px;transform:translateX(-50%);width:min(1020px,calc(100% - 32px));display:flex;align-items:center;justify-content:space-between;gap:18px;background:linear-gradient(120deg,rgba(255,255,255,.95),rgba(236,244,255,.92));border:1px solid rgba(37,99,235,.28);border-radius:26px;padding:22px 26px;box-shadow:0 24px 46px rgba(15,23,42,.18);z-index:8}
.status-bar[hidden]{display:none !important}
.status-text{font-size:20px;font-weight:600}
.status-btn{display:flex;align-items:center;gap:10px;border:none;border-radius:999px;background:linear-gradient(135deg,#2563eb,#0ea5e9);color:#f8fafc;padding:12px 20px;font-weight:700;cursor:pointer;box-shadow:0 14px 28px rgba(14,165,233,.25)}
.status-btn .icon{font-size:20px}
.status-bar.ok{background:linear-gradient(120deg,rgba(240,253,244,.95),rgba(187,247,208,.92));border-color:rgba(34,197,94,.35)}
.status-bar.ok .status-text{color:#166534}
.status-bar .label{font-size:14px;font-weight:600}

/* Toast */
.toast{position:fixed;bottom:18px;left:50%;transform:translateX(-50%);background:#ffffff; color:var(--ink);border:1px solid rgba(148,163,184,.35);
  border-radius:12px;padding:10px 14px;box-shadow:0 18px 32px rgba(15,23,42,.12);display:none;z-index:50}

@media(max-width:640px){
  header{padding:10px 14px}
  .topbar{flex-direction:row;align-items:center;padding:18px}
  .topbar-info{margin:0 14px}
  .topbar-title{font-size:20px}
  .fab{width:54px;height:54px;font-size:30px}
  .profile-btn{width:48px;height:48px}
  .filters button{width:100%;margin-left:0}
  .item{padding:16px}
  .item__row{flex-wrap:wrap}
  .item__row--middle{flex-direction:column;align-items:flex-start;gap:4px}
  .item__row--bottom{flex-direction:column;align-items:flex-start;gap:8px}
  .status-bar{width:calc(100% - 24px);padding:18px 20px;flex-direction:column;align-items:flex-start;gap:12px;bottom:18px}
  .status-btn{align-self:stretch;justify-content:center}
}
